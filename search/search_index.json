{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"DTI Wiki \u2693\ufe0e This is the DTI Wiki page dealing with Open Source Softwares used in GNU/Linux Administration and Devops Automation.","title":"DTI Wiki"},{"location":"#dti-wiki","text":"This is the DTI Wiki page dealing with Open Source Softwares used in GNU/Linux Administration and Devops Automation.","title":"DTI Wiki"},{"location":"about/","text":"Devops Technical Institute - Library \u2693\ufe0e DTI Wiki is an effort to document GNU/Linux Devops process and workflows.","title":"About"},{"location":"about/#devops-technical-institute-library","text":"DTI Wiki is an effort to document GNU/Linux Devops process and workflows.","title":"Devops Technical Institute - Library"},{"location":"psy-mcloud/","text":"Psychedelic Magento Cloud \u2693\ufe0e Adobe Commerce Cloud formerly known as Magento Cloud is a Platform as a Service (PaaS) environment for magento 2x family of ecommerce framework. The PaaS is hosted by Adobe on Platform.sh. Customers are given access to the hosted server via restricted SSH acecss. There is only a common SSH user for all user account's created under magento-cloud. The SSH user do not have a dedicated $HOME directory. The \"Psychedelic MCloud\" is a group of custom scripts created to create an overlay over these restrctions and give bash history and other integrations. Source \u2693\ufe0e The Psychedelic Magento Cloud can be found at: Psychedelic Magento Cloud Source Details \u2693\ufe0e Psychedelic MCloud contains customizations for: bash history tmux integration mysql backups ngrok integration (partial) Bash \u2693\ufe0e The bash customization is for enabling bash history, when invoked from the terminal multiplexer (tmux). tmux \u2693\ufe0e The tux customization contains the basic tmux.conf file and a custom shell to enable bash overrides. The tmux.conf try to use a custom shell from the file shell from the above bash bash customization. The tmux.conf also have support for mouse support for various versions of tmux found in new-generation and old-generation cloud servers. Initiate tmux \u2693\ufe0e tmux - f var / corra / tmux / tmux . conf new - s corra_devops_01 MySQL Scripts \u2693\ufe0e There are two mysql customizations in this directory. The myconnect is used to connect to mysql by directly reading app/etc/env.php . Also mydbdump is a mysql backup script. ngrok \u2693\ufe0e This is used for media sync using ngrok","title":"Psychedelic Magento Cloud"},{"location":"psy-mcloud/#psychedelic-magento-cloud","text":"Adobe Commerce Cloud formerly known as Magento Cloud is a Platform as a Service (PaaS) environment for magento 2x family of ecommerce framework. The PaaS is hosted by Adobe on Platform.sh. Customers are given access to the hosted server via restricted SSH acecss. There is only a common SSH user for all user account's created under magento-cloud. The SSH user do not have a dedicated $HOME directory. The \"Psychedelic MCloud\" is a group of custom scripts created to create an overlay over these restrctions and give bash history and other integrations.","title":"Psychedelic Magento Cloud"},{"location":"psy-mcloud/#source","text":"The Psychedelic Magento Cloud can be found at: Psychedelic Magento Cloud Source","title":"Source"},{"location":"psy-mcloud/#details","text":"Psychedelic MCloud contains customizations for: bash history tmux integration mysql backups ngrok integration (partial)","title":"Details"},{"location":"psy-mcloud/#bash","text":"The bash customization is for enabling bash history, when invoked from the terminal multiplexer (tmux).","title":"Bash"},{"location":"psy-mcloud/#tmux","text":"The tux customization contains the basic tmux.conf file and a custom shell to enable bash overrides. The tmux.conf try to use a custom shell from the file shell from the above bash bash customization. The tmux.conf also have support for mouse support for various versions of tmux found in new-generation and old-generation cloud servers.","title":"tmux"},{"location":"psy-mcloud/#mysql-scripts","text":"There are two mysql customizations in this directory. The myconnect is used to connect to mysql by directly reading app/etc/env.php . Also mydbdump is a mysql backup script.","title":"MySQL Scripts"},{"location":"psy-mcloud/#ngrok","text":"This is used for media sync using ngrok","title":"ngrok"},{"location":"snippets/cloud-cron-disable/","text":"Disable Cron on Magento Enterprise Cloud \u2693\ufe0e Usually crons are by default enabled in the magento configuration. If you have to disable the magento cloud crons. Please modify app/etc/env.php and add 'enabled' => 0, under \"cron\" array as below. 'cron' => array ( 'enabled' => 0, ), Monitor the cron logs : tail - f $ HOME / var / log / cron . log","title":"Cloud Cron Disable"},{"location":"snippets/cloud-cron-disable/#disable-cron-on-magento-enterprise-cloud","text":"Usually crons are by default enabled in the magento configuration. If you have to disable the magento cloud crons. Please modify app/etc/env.php and add 'enabled' => 0, under \"cron\" array as below. 'cron' => array ( 'enabled' => 0, ), Monitor the cron logs : tail - f $ HOME / var / log / cron . log","title":"Disable Cron on Magento Enterprise Cloud"},{"location":"snippets/cloud-db-auth/","text":"Magento 2x Cloud DB Authentication \u2693\ufe0e Set Time \u2693\ufe0e BKPTIM=$(date +\"%Y-%m-%d_%H-%M-%S\") Ticket Number \u2693\ufe0e Optionally set ticket number if required. TKT=\"JIRA-123\" Set Authentication variables: \u2693\ufe0e export DB_NAME =$ ( grep [ \\ ']db[ \\' ] -A 20 app/etc/env.php | grep dbname | head -n1 | sed \"s/.*[=][>][ ]*[' ] // \" | sed \" s / [ '][,]//\"); export MYSQL_HOST =$ ( grep [ \\ ']db[ \\' ] -A 20 app/etc/env.php | grep host | head -n1 | sed \"s/.*[=][>][ ]*[' ] // \" | sed \" s / [ '][,]//\"); export DB_USER =$ ( grep [ \\ ']db[ \\' ] -A 20 app/etc/env.php | grep username | head -n1 | sed \"s/.*[=][>][ ]*[' ] // \" | sed \" s / [ '][,]//\"); export MYSQL_PWD =$ ( grep [ \\ ']db[ \\' ] -A 20 app/etc/env.php | grep password | head -n1 | sed \"s/.*[=][>][ ]*[' ] // \" | sed \" s / [ ']$//\" | sed \"s/[' ][,] // \"); Connect to MySQL with above set authentication variables. \u2693\ufe0e mysql -h $MYSQL_HOST -u $DB_USER --password=$MYSQL_PWD $DB_NAME -A Database Dump \u2693\ufe0e mysqldump - h $ MYSQL_HOST - u $ DB_USER -- password =$ MYSQL_PWD $ DB_NAME -- opt -- single - transaction -- skip - lock - tables | sed - e 's/DEFINER[ ]*=[ ]*[^*]*\\*/\\*/' | gzip > var / backups /$ DB_NAME .$ { BKPTIM } . sql . gz If you want to add the ticket name to the dump as well. mysqldump - h $ MYSQL_HOST - u $ DB_USER -- password =$ MYSQL_PWD $ DB_NAME -- opt -- single - transaction -- skip - lock - tables | sed - e 's/DEFINER[ ]*=[ ]*[^*]*\\*/\\*/' | gzip > var / backups /$ TKT .$ DB_NAME .$ { BKPTIM } . sql . gz","title":"Cloud DB Authentication"},{"location":"snippets/cloud-db-auth/#magento-2x-cloud-db-authentication","text":"","title":"Magento 2x Cloud DB Authentication"},{"location":"snippets/cloud-db-auth/#set-time","text":"BKPTIM=$(date +\"%Y-%m-%d_%H-%M-%S\")","title":"Set Time"},{"location":"snippets/cloud-db-auth/#ticket-number","text":"Optionally set ticket number if required. TKT=\"JIRA-123\"","title":"Ticket Number"},{"location":"snippets/cloud-db-auth/#set-authentication-variables","text":"export DB_NAME =$ ( grep [ \\ ']db[ \\' ] -A 20 app/etc/env.php | grep dbname | head -n1 | sed \"s/.*[=][>][ ]*[' ] // \" | sed \" s / [ '][,]//\"); export MYSQL_HOST =$ ( grep [ \\ ']db[ \\' ] -A 20 app/etc/env.php | grep host | head -n1 | sed \"s/.*[=][>][ ]*[' ] // \" | sed \" s / [ '][,]//\"); export DB_USER =$ ( grep [ \\ ']db[ \\' ] -A 20 app/etc/env.php | grep username | head -n1 | sed \"s/.*[=][>][ ]*[' ] // \" | sed \" s / [ '][,]//\"); export MYSQL_PWD =$ ( grep [ \\ ']db[ \\' ] -A 20 app/etc/env.php | grep password | head -n1 | sed \"s/.*[=][>][ ]*[' ] // \" | sed \" s / [ ']$//\" | sed \"s/[' ][,] // \");","title":"Set Authentication variables:"},{"location":"snippets/cloud-db-auth/#connect-to-mysql-with-above-set-authentication-variables","text":"mysql -h $MYSQL_HOST -u $DB_USER --password=$MYSQL_PWD $DB_NAME -A","title":"Connect to MySQL with above set authentication variables."},{"location":"snippets/cloud-db-auth/#database-dump","text":"mysqldump - h $ MYSQL_HOST - u $ DB_USER -- password =$ MYSQL_PWD $ DB_NAME -- opt -- single - transaction -- skip - lock - tables | sed - e 's/DEFINER[ ]*=[ ]*[^*]*\\*/\\*/' | gzip > var / backups /$ DB_NAME .$ { BKPTIM } . sql . gz If you want to add the ticket name to the dump as well. mysqldump - h $ MYSQL_HOST - u $ DB_USER -- password =$ MYSQL_PWD $ DB_NAME -- opt -- single - transaction -- skip - lock - tables | sed - e 's/DEFINER[ ]*=[ ]*[^*]*\\*/\\*/' | gzip > var / backups /$ TKT .$ DB_NAME .$ { BKPTIM } . sql . gz","title":"Database Dump"}]}